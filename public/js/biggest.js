!function(){"use strict";function e(n){e[n.id]=n}e.xhr=function(e,n,t,a){n=n||[];var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){4==o.readyState&&(n[t||0]=o.status==(e.status||200)?e.callback?e.callback(o.responseText):o.responseText:void 0,a&&!~n.indexOf(null)&&a(n))},o.open(e.method||"GET",e.url,!0),e.headers)o.setRequestHeader(i,e.headers[i]);o.send(e.body)},e.xhrs=function(n,t){var a=[];n.forEach((function(e,n){a[n]=null})),n.forEach((function(n,o){var i=n.local&&n.local();i?(a[o]=n.callback?n.callback(i):i,t&&!~a.indexOf(null)&&t(a)):e.xhr(n,a,o,t)}))};var n,t=function e(n,t){var a=typeof n;return"string"===a||"number"===a||"boolean"===a?"string"===a&&0===n.indexOf("http")?': <a href="'.concat(n,'">').concat(n,"</a>"):": <b>".concat(n,"</b>"):"object"==typeof n?Array.isArray(n)?n.map((function(n){return e(n)})).join(""):Object.keys(n).map((function(t){return"\n            <ul>\n                <li>\n                    ".concat(t.replace(/_/g," ")).concat(e(n[t]),"\n                </li>\n            </ul>\n          ")})).join(""):void 0},a=function(e,n){return Z.mount({id:"pagination",render:function(e){var n,t,a,o,i,r=(n=e.index+1,t=1,a=e.length,o=t+Math.floor((n-t)/2),i=a-Math.floor((a-n)/2),[{value:t,target:t,disabled:n===t},{value:o<=t?"…":o,target:o,disabled:o<=t},{value:"previous",target:n===t?n:n-1,disabled:n===t},{value:"next",target:n===a?n:n+1,disabled:n===a},{value:i>=a?"…":i,target:i,disabled:i>=a},{value:a,target:a,disabled:n===a}]);document.getElementById("pagination").innerHTML='\n        <nav class="pagination">\n          '.concat(r.map((function(e){return'          \n                  <button onclick="Z.pagination.moveToN('.concat(e.target-1,')" ').concat(e.disabled?"disabled":"",' class="pagination-button">').concat(e.value,"</button>\n              ")})).join(""),"\n        </nav>\n      ")},state:{index:n,length:e,moveToN:function(e){e!=this.index&&(Z.main.index=e,Z.pagination.index=e,Z.title=Z.main.data[e].name,Z.update("main"),Z.update("pagination"),Z.update("title"))}}})};n={title:"NASA &middot; Biggest Asteroids"},Z.mount({id:"head",render:function(){document.getElementsByTagName("head")[0].innerHTML='\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <link rel="stylesheet" type="text/css" href="/css/style.css" />\n      <title></title>\n      <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">\n      <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">\n      <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">\n      <link rel="manifest" href="/site.webmanifest">\n      <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#007ef8">\n      <meta name="msapplication-TileColor" content="#f7f6f5">\n      <meta name="theme-color" content="#f7f6f5">        \n    '}}),Z.mount({id:"title",render:function(e){document.getElementsByTagName("title")[0].innerHTML=e},state:n.title}),function(e){Z.mount({id:"body",render:function(e){document.getElementsByTagName("body")[0].innerHTML='\n      <header id="header"></header>\n      <main id="main" class="'.concat(e,'"></main>\n      <footer id="footer"></footer>\n    ')},state:e.class})}({class:"biggest"}),e.mount({id:"container",render:function(){document.getElementById("main").innerHTML='\n      <section id="date-picker"></section>\n      <section id="asteroid-data"></section>\n      <div id="pagination"></div>\n    '}}),Z.mount({id:"header",render:function(){document.getElementById("header").innerHTML='\n        <nav>\n          <a href="/" >\n            <img src="/images/nasa-logo.png" alt="nasa logo" />\n          </a>\n          <input id="menu" type="checkbox" />\n          <label for="menu"></label>\n          <ul>\n            <li>\n                <a href="/closest" >closest</a>\n            </li>\n            <li>\n                <a href="/biggest" >biggest</a>\n            </li>        \n          </ul>\n        </nav>\n      '}}),Z.mount({id:"footer",render:function(){document.getElementById("footer").innerHTML='<p>In case you haven\'t already guessed; This is not the real NASA. It\'s not even the real NASA logo, I used <a href="https://dribbble.com/shots/10741319-NASA">this excellent</a> concept. This is just a website created to complete an assignment. If you are interested in the code. You can check it out <a href="https://github.com/Paul-Browne/nasa-assignment">here at github</a> Also I apologize if you had to wait 15 seconds to see the data for the closest and biggest asteroids. This is because the <a href="https://api.nasa.gov">NASA API</a> takes ages. &copy; Paul Browne 2021</p>'}});var o=function(e,n){return function(e,n){for(var t=new Date(n,e,0).getDate(),a=[],o=0;o<t;o++)o%7==0&&a.push({start:o+1,end:o+7<t?o+7:t});return a.map((function(t){return"".concat("https://api.nasa.gov/neo/rest/v1/feed?api_key=yo8sBiXIkrfsPQYtovghFK3ysIUiVjJ16ncO7ts7&detailed=true&","start_date=").concat(n,"-").concat(e,"-").concat(t.start,"&end_date=").concat(n,"-").concat(e,"-").concat(t.end)}))}(e,n).map((function(t,a){var o="req_"+n+"_"+e+"_"+(a+1);return{id:o,url:t,local:function(){return function(e){var n=localStorage.getItem(e+"-timestamp");return!n||Date.now()-n>2592e6?(localStorage.setItem(e+"-timestamp",Date.now()),!1):localStorage.getItem(e)}(o)},callback:function(e){return localStorage.setItem(o,e),JSON.parse(e)}}}))};e.mount({id:"picker",render:function(){document.getElementById("date-picker").innerHTML="\n      <select onchange=\"Z.picker.year(this.value)\">\n          <option value='2017'>2017</option>\n          <option value='2018'>2018</option>\n          <option value='2019'>2019</option>\n      </select>    \n      <select onchange=\"Z.picker.month(this.value)\">\n          <option value='1'>Janaury</option>\n          <option value='2'>February</option>\n          <option value='3'>March</option>\n          <option value='4'>April</option>\n          <option value='5'>May</option>\n          <option value='6'>June</option>\n          <option value='7'>July</option>\n          <option value='8'>August</option>\n          <option value='9'>September</option>\n          <option value='10'>October</option>\n          <option value='11'>November</option>\n          <option value='12'>December</option>\n      </select>\n      <div id=\"info\"><h3>Please select a Year and a Month</h3></div>\n    "},state:{selectedYear:null,selectedMonth:null,year:function(e){this.selectedYear!==e&&(this.selectedYear=e,this.validate())},month:function(e){this.selectedMonth!==e&&(this.selectedMonth=e,this.validate())},validate:function(){this.selectedMonth&&this.selectedYear?(e.mount({id:"info",render:function(){document.getElementById("info").innerHTML="\n              <h3>Loading... please wait...</h3>\n              <small>Probably a loooong time</small>\n            "}}),e.load(o(Number(this.selectedMonth),Number(this.selectedYear)),(function(n){var o=function(e){var n=[];return e.forEach((function(e){Object.keys(e.near_earth_objects).forEach((function(t){e.near_earth_objects[t].forEach((function(e){n.push(e)}))}))})),n.sort((function(e,n){return n.estimated_diameter.meters.estimated_diameter_max-e.estimated_diameter.meters.estimated_diameter_max}))}(n);console.log(o),e.mount({id:"main",render:function(e){console.log(e);var n=e.data[e.index];document.getElementById("asteroid-data").innerHTML="\n                  <h1>".concat(e.index+1,": ").concat(n.name,"</h1>\n                  <div>\n                    ").concat(t(n),"\n                  </div>\n                ")},state:{index:0,data:o}}),a(o.length,0),e.title=o[0].name,e.update("title")}))):this.selectedMonth?e.mount({render:function(){document.getElementById("info").innerHTML="\n              <h3>Please select a Year</h3>\n            "}}):this.selectedYear&&e.mount({render:function(){document.getElementById("info").innerHTML="\n              <h3>Please select a Month</h3>\n            "}})}}})}();
//# sourceMappingURL=biggest.js.map
